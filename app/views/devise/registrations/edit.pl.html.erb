<div class="container deviseform">
  <div class="col-sm-6 col-sm-offset-3">
 
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title"><%= t('devise.registrations.form.edit.title') %></h3> <!-- Edit <%#= resource_name.to_s.humanize %> -->
      </div>
      <div class="panel-body">

        <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :role => 'form'}) do |f| %>

          <%#= devise_error_messages! %>

          <% if resource.errors.any? %>
            <div id="error_explanation" class="panel panel-danger">
              <div class="panel-body">
                <ul>
                <% resource.errors.full_messages.each do |msg| %>
                  <li><h5><%= msg %></h5></li>
                <% end %>
                </ul>
              </div>
            </div>
          <% end %>

          <div class="col-sm-6">
            <div class="form-group">
              <%= f.label :name, class: 'control-label' %>
              <%= f.text_field :name, class: 'form-control' %>
            </div>
            <div class="form-group">
              <%= f.label :email, class: 'control-label' %>
              <%= f.email_field :email, class: 'form-control' %>
              <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
              <% end %>
            </div>
            <div class="form-group">
              <%= f.label :department_id, class: "control-label" %>
              <%= f.select :department_id, 
                    Department.order(:short).collect {|p| [ "#{p.short}, #{p.name}", p.id ]},
                    { include_blank: true, multiple: false }, 
                    { class: 'form-control input-sm', disabled: false } %>
            </div>
            <div class="form-group">
              <%= f.label :position, class: 'control-label' %>
              <%= f.text_field :position, class: 'form-control' %>
            </div>
          </div>

          <div class="col-sm-6">
            <div class="well-accessorization">
              <div class="form-group">
                <small class="help-block"><%= t('devise.registrations.form.edit.blank_passwords_text') %></small>
                <%= f.label :password, class: 'control-label' %>
                <%= f.password_field :password, :autocomplete => 'off', class: 'form-control' %>
              </div>
              <div class="form-group">
                <%= f.label :password_confirmation, class: 'control-label' %>
                <%= f.password_field :password_confirmation, class: 'form-control' %>
              </div>
            </div>
            <div class="well-accessorization">
              <div class="form-group">
                <%= f.label :current_password, class: 'control-label' %>
                <%= f.password_field :current_password, class: 'form-control' %>
                <small class="help-block"><%= t('devise.registrations.form.edit.current_password_needed') %></small>
              </div>
            </div>
            <%= f.submit t('devise.registrations.form.edit.button_submit'), :class => 'btn btn-primary pull-right' %> <!-- Button: 'Update' -->
          </div><!-- /class="col-sm-6" -->
        <% end %>
      </div>
<!--  <div class="panel-footer">
  
          <%#= button_to t('Cancel my account', default: t("helpers.links.destroy_account")), registration_path(resource_name), :data => { :confirm => t('helpers.links.confirm') }, :method => :delete, :class => 'btn btn-danger pull-right' %>
  
        <br>
        <br>
      </div> -->
    </div><!-- /panel panel-primary -->
  </div><!-- /col-sm-12 -->
</div><!-- /container -->
