<div class="container deviseform">
  <div class="col-sm-6 col-sm-offset-3">
 
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title"><%= t('devise.registrations.form.new.title') %></h3> <!-- Sign up -->
      </div>
      <div class="panel-body">

        <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :role => 'form'}) do |f| %>

          <%#= devise_error_messages! %>

          <% if resource.errors.any? %>
            <div id="error_explanation" class="panel panel-danger">
              <div class="panel-body">
                <ul>
                <% resource.errors.full_messages.each do |msg| %>
                  <li><h5><%= msg %></h5></li>
                <% end %>
                </ul>
              </div>
            </div>
          <% end %>

          <div class="form-group">
            <%= f.label :name, class: 'control-label' %>
            <%= f.text_field :name, class: 'form-control' %>
          </div>

          <div class="form-group">
            <%= f.label :email, class: 'control-label' %>
            <%= f.email_field :email, class: 'form-control' %>
          </div>

          <div class="form-group">
            <%= f.label :department_id, class: "control-label" %>
            <%= f.select :department_id, 
                  Department.order(:short).collect {|p| [ "#{p.short}, #{p.name}", p.id ]},
                  { include_blank: true, multiple: false }, 
                  { class: 'form-control input-sm', disabled: false } %>
          </div>

          <div class="form-group">
            <%= f.label :photo, class: 'control-label' %>
            <%= f.file_field :photo, class: 'form-control' %>
          </div>

          <div class="form-group">
            <%= f.label :password, class: 'control-label' %>
            <%= f.password_field :password, class: 'form-control' %>
          </div>

          <div class="form-group">
            <%= f.label :password_confirmation, class: 'control-label' %>
            <%= f.password_field :password_confirmation, class: 'form-control' %>
          </div>

          <%= f.submit t('devise.registrations.form.new.button_submit'), :class => 'btn btn-primary pull-right' %> <!-- Button: "Sign up" -->
        
      </div>
      <div class="panel-footer">
        <%= render "devise/shared/links" %>  
      </div>
        <% end %><!-- /form_for -->
    </div><!-- /panel panel-primary -->
  </div><!-- /col-sm-12 -->
</div><!-- /container -->
